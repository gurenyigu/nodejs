# `Nodejs`
## Node.js 是一个怎样的东西
* `Nodejs`不是一种独立的脚本语言，区别于`PHP、Python、Perl、 Ruby`这样的是语言亦是平台。
* 也不是一个JavaScript框架，不同于`CakePHP 、Django、Rails`。
* 更不是浏览器端的库，不能与`jQuery、 ExtJS`相提并论。
* `Node.js`是一个让`JavaScript`运行在服务端的开发平台，它让`JavaScript`成为脚本语言世界的一等公民。

## Nodejs 能做到什么
* `Nodejs`是一个让`JavaScript`运行在浏览器之外的平台。它实现了例如文件系统、模块、包、操作系统API、网络通讯等`Core JavaScript`没有或者不完善的功能。
* 历史上将`JavaScript`一直到浏览器之外的计划不止一个，但是`Node.js`是最出色的一个。随着`Node.js`的成功，各种浏览器外的`JavaScript`实现逐步兴起，因此产生了`CommonJS`规范。
* `CommonJS`定制这希望众多服务端`JavaScript`实现遵循`CommonJS`规范，以便相互兼容合代码复用。`Nodejs`的部分遵循了`CommonJS`规范，但是由于迭代速度差异，两者也会有不一致的地方。

## V8 引擎
* `Nodejs`的`JavaScript`引擎是  V8，来自`Google`的`Chrome`项目。V8一个快速的`JavaScript`引擎，历经了数次引擎革命，他的`JIT`(Just-in-time Compilation,即时编译)执行速度已经快到了接近本地代码执行速度。
* `Nodejs`的成功与V8引擎十分不开的。`Nodejs`不运行在浏览器中，所以也就不存在浏览器兼容问题。可以放心的使用`JavaScript`的所有特性。

[`Nodejs 历史`](http://www.infoq.com/cn/articles/node-js-and-io-js/)

# `Nodejs`的应用
* 正如`Javascript`为客户端而生，`Nodejs`位网络而生。`Nodejs`能做到的远不止开发一个网站那么简单，使用`Nodejs`，可以轻松的开发：
    1. 具有复杂逻辑的网站
    2. 基于社交网络的大规模服务器
    3. TCP/UDP 套接字应用程序
    4. 命令行工具
    5. 交互式终端程序
    6. 带有图形用户界面的本地应用程序
    7. 单元测试工具
    8. 客户端`JavaScript`编辑器

## `Nodejs`优点：
  1. `Nodejs`采用事件驱动、异步编程，为网络服务而设计。`JavaScript`的匿名函数和闭包特性合适事件驱动、异步编程。
  2. `Nodejs`非阻塞模式的I/O处理给`Nodejs`带来在相对低系统资源耗用下的高性能与出众的负载能力，非常适合作依赖其他I/O资源的中间层服务。
  3. `Nodejs`轻量高效，可以认为是数据密集型分布式部署环境下的实时应用系统的完美解决方案。非常适合在响应客户端之前，您预计可能有很高的流量，但所需的服务器端逻辑和处理不一定很多。
  
## `Nodejs`缺点
  1. 可靠性低
  1. 单进程，单线程，只支持单核CPU，不能充分的利用多核CPU服务器。一旦这个进程崩溃掉，那么整个WEB服务器就崩溃了。
### 解决`Nodejs`支持多进程的方式：
  1. 开启多个进程，每个进程绑定不用的端口，用反向代理服务器`如：Nginx`做负载均衡，这样我们可以借助强大的`Nginx`做一些过滤检查之类的操作，同时能够实现比较好的均衡策略。但是弊端是我们在服务中引入了中间层。
  1. 多进程绑定在同一个端口监听。在`Nodejs`中，提供了进程发送“文件句柄“功能。
  1. 一个进程负责监听、接收连接，然后把收到的连接平均发送到子进程中去处理。
  
## 异步式I/O与事件驱动
  `Nodejs`最大的特点就是采用异步式I/O与事件驱动的结构设计。对于高并发的解决方案，传统的架构是多线程模型，也就是每个业务逻辑提供一个系统进程，通过系统线程切换来弥补同步式I/O调用时的时间开销。
  `Nodejs`使用的是单线程模型，对于所有I/O都采用异步式的请求方式，避免了频繁的上下文切换。
  `Nodejs`在执行的过程中会维护一个时间对列，程序在执行时进入事件循环等待下一个事件到来，每个异步式I/O请求完成后会被推送到事件队列，等待程序进程进行处理。
